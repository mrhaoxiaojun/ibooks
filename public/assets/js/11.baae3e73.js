(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{499:function(s,t,a){s.exports=a.p+"assets/img/relation.54aabcdf.jpg"},500:function(s,t,a){s.exports=a.p+"assets/img/status.03383c4e.png"},546:function(s,t,a){"use strict";a.r(t);var n=a(20),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"工作区、暂存区、版本库、远程仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#工作区、暂存区、版本库、远程仓库"}},[s._v("#")]),s._v(" 工作区、暂存区、版本库、远程仓库")]),s._v(" "),n("p",[s._v("Git和其他版本控制系统如SVN的一个不同之处就是有暂存区的概念")]),s._v(" "),n("p",[s._v("Git本地有四个工作区域：工作目录（Working Directory）、暂存区(Stage/Index)、资源库(Repository或Git Directory)、git仓库(Remote Directory)。文件在这四个区域之间的转换关系如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(499),alt:"relation"}})]),s._v(" "),n("ul",[n("li",[s._v("Workspace： 工作区，就是你平时存放项目代码的地方")]),s._v(" "),n("li",[s._v("Index / Stage： 暂存区，用于临时存放你的改动，事实上它只是一个文件，保存即将提交到文件列表信息")]),s._v(" "),n("li",[s._v("Repository： 仓库区（或版本库），就是安全存放数据的位置，这里面有你提交到所有版本的数据。其中HEAD指向最新放入仓库的版本")]),s._v(" "),n("li",[s._v("Remote： 远程仓库，托管代码的服务器，可以简单的认为是你项目组中的一台电脑用于远程数据交换")])]),s._v(" "),n("h3",{attrs:{id:"工作流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#工作流程"}},[s._v("#")]),s._v(" 工作流程")]),s._v(" "),n("p",[s._v("git的工作流程一般是这样的：")]),s._v(" "),n("p",[s._v("１、在工作目录中添加、修改文件；")]),s._v(" "),n("p",[s._v("２、将需要进行版本管理的文件放入暂存区域；")]),s._v(" "),n("p",[s._v("３、将暂存区域的文件提交到git仓库。")]),s._v(" "),n("p",[s._v("因此，git管理的文件有三种状态："),n("strong",[s._v("已修改（modified）,已暂存（staged）,已提交(committed)")])]),s._v(" "),n("h3",{attrs:{id:"文件的四种状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件的四种状态"}},[s._v("#")]),s._v(" 文件的四种状态")]),s._v(" "),n("p",[s._v("版本控制就是对文件的版本控制，要对文件进行修改、提交等操作，首先要知道文件当前在什么状态，不然可能会提交了现在还不想提交的文件，或者要提交的文件没提交上。")]),s._v(" "),n("p",[s._v("GIT不关心文件两个版本之间的具体差别，而是关心文件的整体是否有改变，若文件被改变，在添加提交时就生成文件新版本的快照，而判断文件整体是否改变的方法就是用")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Untracked:   未跟踪, 此文件在文件夹中, 但并没有加入到git库, 不参与版本控制. 通过git add 状态变为Staged.")])]),s._v(" "),n("li",[n("p",[s._v("Unmodify:   文件已经入库, 未修改, 即版本库中的文件快照内容与文件夹中完全一致. 这种类型的文件有两种去处, 如果它被修改, 而变为Modified.如果使用git rm移出版本库, 则成为Untracked文件")])]),s._v(" "),n("li",[n("p",[s._v("Modified: 文件已修改, 仅仅是修改, 并没有进行其他的操作. 这个文件也有两个去处, 通过git add可进入暂存staged状态, 使用git checkout 则丢弃修改过,返回到unmodify状态, 这个git checkout即从库中取出文件, 覆盖当前修改")])]),s._v(" "),n("li",[n("p",[s._v("Staged: 暂存状态. 执行git commit则将修改同步到库中, 这时库中的文件和本地文件又变为一致, 文件为Unmodify状态. 执行git reset HEAD filename取消暂存,文件状态为Modified")])])]),s._v(" "),n("p",[s._v("下面的图很好的解释了这四种状态的转变：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(500),alt:"status"}})]),s._v(" "),n("blockquote",[n("p",[s._v("新建文件---\x3eUntracked")]),s._v(" "),n("p",[s._v("使用add命令将新建的文件加入到暂存区---\x3eStaged")]),s._v(" "),n("p",[s._v("使用commit命令将暂存区的文件提交到本地仓库---\x3eUnmodified")]),s._v(" "),n("p",[s._v("如果对Unmodified状态的文件进行修改---\x3e modified")]),s._v(" "),n("p",[s._v("如果对Unmodified状态的文件进行remove操作---\x3eUntracked")])]),s._v(" "),n("h2",{attrs:{id:"四个区域常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四个区域常用命令"}},[s._v("#")]),s._v(" 四个区域常用命令")]),s._v(" "),n("h3",{attrs:{id:"_1、新建代码库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、新建代码库"}},[s._v("#")]),s._v(" 1、新建代码库")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在当前目录新建一个Git代码库")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建一个目录，将其初始化为Git代码库")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("project-name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载一个项目和它的整个代码历史")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_2、查看文件状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、查看文件状态"}},[s._v("#")]),s._v(" 2、查看文件状态")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看指定文件状态")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("filename"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看所有文件状态")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_3、工作区-暂存区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、工作区-暂存区"}},[s._v("#")]),s._v(" 3、工作区<--\x3e暂存区")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加指定文件到暂存区")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("file1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("file2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加指定目录到暂存区，包括子目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加当前目录的所有文件到暂存区")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#当我们需要删除暂存区或分支上的文件, 同时工作区也不需要这个文件了, 可以使用（⚠️）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" file_path\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#当我们需要删除暂存区或分支上的文件, 但本地又需要使用, 这个时候直接push那边这个文件就没有，如果push之前重新add那么还是会有。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" --cached file_path\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#直接加文件名   从暂存区将文件恢复到工作区，如果工作区已经有该文件，则会选择覆盖")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加了【分支名】 +文件名  则表示从分支名为所写的分支名中拉取文件 并覆盖工作区里的文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"_4、工作区-资源库（版本库）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、工作区-资源库（版本库）"}},[s._v("#")]),s._v(" 4、工作区<--\x3e资源库（版本库）")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将暂存区--\x3e资源库（版本库）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'该次提交说明'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#移除不必要的添加到暂存区的文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset  --hard HEAD 文件名\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#去掉上一次的提交（会直接变成add之前状态）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset  --hard HEAD^ \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#去掉上一次的提交（变成add之后，commit之前状态）  ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --soft  HEAD^ \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",[s._v("用HEAD表示当前版本，上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100")]),s._v(" "),n("p",[s._v("reset --soft 会在重置 HEAD 和 branch 时，保留工作目录和暂存区中的内容，并把重置 HEAD 所带来的新的差异放进暂存区。")])]),s._v(" "),n("h3",{attrs:{id:"_5、远程操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5、远程操作"}},[s._v("#")]),s._v(" 5、远程操作")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取回远程仓库的变化，并与本地分支合并")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传本地指定分支到远程仓库")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_6、其它常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6、其它常用命令"}},[s._v("#")]),s._v(" 6、其它常用命令")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示当前的Git配置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --list\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑Git配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config -e "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--global"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#初次commit之前，需要配置用户邮箱及用户名，使用以下命令：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"you@example.com"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Your Name"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#调出Git的帮助文档")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" --help\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看某个具体命令的帮助文档")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" +命令 --help\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看git的版本")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" --version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h2",{attrs:{id:"工作区部分命令详解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#工作区部分命令详解"}},[s._v("#")]),s._v(" 工作区部分命令详解")]),s._v(" "),n("p",[s._v("请打开你的 Git Bash 客户端 or 其他命令行工具")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个文件并写入123")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" a.txt\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令可以让我们时刻掌握仓库当前的状态")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("看结果")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("λ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch master\nYour branch is up-to-date with "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/master'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\nUntracked files:\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add <file>..."')]),s._v(" to include "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" what will be committed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        a.txt\n\nnothing added to commit but untracked files present "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')]),s._v(" to track"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("可以看到它现在工作区，git强大的提示，你的分支，你可以使用，"),n("code",[s._v("git add")]),s._v(" 添加到暂存区进行跟踪")]),s._v(" "),n("h3",{attrs:{id:"add-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#add-命令"}},[s._v("#")]),s._v(" add 命令")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件的修改、文件的删除，添加到暂存区。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -u\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件的修改，文件的新建，添加到暂存区。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件的修改，文件的删除，文件的新建，添加到暂存区。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("工作中一般是用到 "),n("code",[s._v("git add .")]),s._v(" 或者 "),n("code",[s._v("git add -A")])]),s._v(" "),n("p",[n("code",[s._v("git add -A")]),s._v("相对于"),n("code",[s._v("git add -u")]),s._v("命令的优点：可以提交所有被删除、被替换、被修改和新增的文件到数据暂存区，而"),n("code",[s._v("git add -u")]),s._v(" 只能操作跟踪过的文件")]),s._v(" "),n("p",[n("code",[s._v("git add -A")]),s._v(" 等同于"),n("code",[s._v("git add -all")])]),s._v(" "),n("p",[s._v("然而看了半天，发现 "),n("code",[s._v("git add .|-A|--all")]),s._v(" 这三个选项都可以把所有的操作文件创建，文件修改，文件删除 添加到暂存区 git高版本都一样可以")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("λ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\nwarning: LF will be replaced by CRLF "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a.txt.\nThe "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" will have its original line endings "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" your working directory.\nλ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch develop\nYour branch is up-to-date with "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/develop'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\nChanges to be committed:\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git reset HEAD <file>..."')]),s._v(" to unstage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        new file:   a.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"commit-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#commit-命令"}},[s._v("#")]),s._v(" commit 命令")]),s._v(" "),n("p",[s._v("用git commit提交更改，实际上就是把暂存区的所有内容提交到当前分支")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("λ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("develop 9176eec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" changed, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" insertion"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("+"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n create mode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v(" a.txt\nλ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch develop\nYour branch is ahead of "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/develop'")]),s._v(" by "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" commit.\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git push"')]),s._v(" to publish your "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" commits"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnothing to commit, working tree clean\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("你可以看到git清晰的提示，你可以"),n("code",[s._v("git push")]),s._v("你的本地commits")]),s._v(" "),n("p",[s._v("当然你如果不想要这次提交也可以")]),s._v(" "),n("p",[n("code",[s._v("git reset --hard HEAD^")]),s._v(" 就可以充值会上一次提交，注意本地修改就意味这也清空了，慎用")]),s._v(" "),n("p",[s._v("如果还想要本地修改那么 "),n("code",[s._v("git reset --soft HEAD^")])]),s._v(" "),n("p",[s._v("commit 和 add 是可以一起使用，也就是说不经过暂存区直接放到本地版本库中")]),s._v(" "),n("p",[n("code",[s._v('git -am "提交描述"')]),s._v(" "),n("code",[s._v("-a")]),s._v(", --all commit all changed files(提交所有被修改的文件)\n"),n("code",[s._v("-m")]),s._v(" 是message\n缺点：你有新添加的文件这条命令就不适用")]),s._v(" "),n("h3",{attrs:{id:"push-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#push-命令"}},[s._v("#")]),s._v(" push 命令")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master:master "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#本地仓库master分支推动到远程仓库的master分支")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master　　　　　 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#本地仓库当前分支的推送到master分支")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push 　　　　　　　　　　　 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将当前本地仓库所在分支提交到远程相同分支下")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ol",[n("li",[s._v("git push origin master:master 这个是完整版本。：前面的是本地分支名称，：后面的是远端分支的名称。")]),s._v(" "),n("li",[s._v("git push origin master，后面没带远端的master，那是因为git已经为本地的master分支和远端的分支建立了所谓的 upstream 的关联，它知道本地master对应远端的master分支。当然，git也允许我们修改本地分支的 upstream。可以看看 git branch --set-upstream 命令。")]),s._v(" "),n("li",[s._v("因为 origin 是缺省的 remote url；")])]),s._v(" "),n("h3",{attrs:{id:"pull-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pull-命令"}},[s._v("#")]),s._v(" pull 命令")]),s._v(" "),n("p",[s._v("同push命令")]),s._v(" "),n("p",[s._v("如果缺省写法"),n("code",[s._v("git pull")]),s._v(" 相当于执行")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新远程分支到本地")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# merge")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"查、退、改、删、撤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查、退、改、删、撤"}},[s._v("#")]),s._v(" 查、退、改、删、撤")]),s._v(" "),n("p",[s._v("Git也是一样，每当你觉得文件修改到一定程度的时候，就可以“保存一个快照”，这个快照在Git中被称为commit。一旦你把文件改乱了，或者误删了文件，还可以从最近的一个commit恢复，然后继续工作，而不是把几个月的工作成果全部丢失。")]),s._v(" "),n("p",[s._v("那么当我们需要回退的时候，就可以很方便了")]),s._v(" "),n("h3",{attrs:{id:"log历史查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#log历史查询"}},[s._v("#")]),s._v(" log历史查询")]),s._v(" "),n("p",[n("code",[s._v("git log")]),s._v("命令显示从最近到最远的提交日志")]),s._v(" "),n("h4",{attrs:{id:"常用组合命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用组合命令"}},[s._v("#")]),s._v(" 常用组合命令")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("git log --all")]),s._v("查看所有分支的历史")]),s._v(" "),n("li",[n("code",[s._v("git log --all --graph")]),s._v(" 查看图形化的 log 地址")]),s._v(" "),n("li",[n("code",[s._v("git log --oneline")]),s._v(" 查看单行的简洁历史。")]),s._v(" "),n("li",[n("code",[s._v("git log --oneline -n4")]),s._v(" 查看最近的四条简洁历史。")]),s._v(" "),n("li",[n("code",[s._v("git log --oneline --all -n4 --graph")]),s._v(" 查看所有分支最近 4 条单行的图形化历史。")]),s._v(" "),n("li",[n("code",[s._v("git help --web log")]),s._v(" 跳转到git log 的帮助文档网页")]),s._v(" "),n("li",[n("code",[s._v("git log --author=作者")])])]),s._v(" "),n("p",[s._v("可以通过命令帮助查任何git命令选项，也可以去官方文档查看")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("λ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log\ncommit 8c4957c1a44502d04fa261eecb6bdb1f5f7be89a\nAuthor: haoxj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("haoxiaojun@cnpc.com.cn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nDate:   Tue Jul "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":04:03 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v(" +0800\n\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n\ncommit 346c632c95ea0354b82710bc735d4158577f3ae0\nMerge: ad7e54a 120e54b\nAuthor: mawenli "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18234832141")]),s._v("@163.com"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nDate:   Wed Nov "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":34:14 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" +0800\n\n    Merge branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'develop'")]),s._v(" of http://11.11.156.40/CGIS/CentGISSite into develop\n\ncommit ad7e54a7998e5091267fa741efe9ebff1fc513bb\nAuthor: mawenli "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18234832141")]),s._v("@163.com"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nDate:   Wed Nov "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":33:19 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" +0800\n\n    图片替换\n\ncommit 120e54b439326983f9000076386e3a3f0dce9004\nMerge: 452e0f8 5e9894a\nAuthor: liuzhonghui01 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("liuzhonghui01@cnpc.com.cn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nDate:   Mon Nov "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" 09:58:18 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" +0800\n\n    Merge branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'develop'")]),s._v(" into eme-new\n\ncommit 452e0f8791454992d05b03ffb3d15c5ca1b12451\nMerge: e7a6769 165e1a3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("p",[s._v("如果嫌输出信息太多，看得眼花缭乱的，可以试试加上"),n("code",[s._v("--oneline")]),s._v("参数：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("λ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" log --oneline\n8c4957c "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n346c632 Merge branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'develop'")]),s._v(" of http://11.11.156.40/CGIS/CentGISSite into develop\nad7e54a 图片替换\n120e54b Merge branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'develop'")]),s._v(" into eme-new\n452e0f8 Merge remote-tracking branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/eme-new'")]),s._v(" into eme-new\ne7a6769 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、调整应急部分法语翻译 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、调整事故信息展示\n5e9894a 气泡样式\n165e1a3 Merge branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'develop'")]),s._v(" into eme-new\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("你看到的一大串类似"),n("code",[s._v("d56d596...")]),s._v("的是"),n("code",[s._v("commit id")]),s._v("（版本号），和SVN不一样，Git的"),n("code",[s._v("commit id")]),s._v("不是1，2，3……递增的数字，而是一个SHA1计算出来的一个非常大的数字，用十六进制表示，而且你看到的"),n("code",[s._v("commit id")]),s._v("和我的肯定不一样，以你自己的为准。为什么"),n("code",[s._v("commit id")]),s._v("需要用这么一大串数字表示呢？因为Git是分布式的版本控制系统，后面我们还要研究多人在同一个版本库里工作，如果大家都用1，2，3……作为版本号，那肯定就冲突了。")]),s._v(" "),n("h3",{attrs:{id:"版本回退"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#版本回退"}},[s._v("#")]),s._v(" 版本回退")]),s._v(" "),n("p",[s._v("首先，Git必须知道当前版本是哪个版本，在Git中，用"),n("code",[s._v("HEAD")]),s._v("表示当前版本，也就是最新的提交"),n("code",[s._v("d56d596...")]),s._v("（注意我的提交ID和你的肯定不一样），上一个版本就是"),n("code",[s._v("HEAD^")]),s._v("，上上一个版本就是"),n("code",[s._v("HEAD^^")]),s._v("，当然往上100个版本写100个^比较容易数不过来，所以写成"),n("code",[s._v("HEAD~100")]),s._v("。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("λ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard 346c632c95ea\nHEAD is now at 346c632 Merge branch "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'develop'")]),s._v(" of http://11.11.156.40/CGIS/CentGISSite into develop\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("这就回去了，你也可以 hard 后面直接加"),n("code",[s._v("commit id")]),s._v(" 回退到指定版本")]),s._v(" "),n("p",[s._v("Git的版本回退速度非常快，因为Git在内部有个指向当前版本的"),n("code",[s._v("HEAD")]),s._v("指针，当你回退版本的时候，Git仅仅是把"),n("code",[s._v("HEAD")]),s._v("从指向你的"),n("code",[s._v("commit id")]),s._v("对应的提交版本")]),s._v(" "),n("p",[s._v("然后顺便把工作区的文件更新了。所以你让"),n("code",[s._v("HEAD")]),s._v("指向哪个版本号，你就把当前版本定位在哪。")]),s._v(" "),n("p",[s._v("现在，你回退到了某个版本，关掉了电脑，第二天早上就后悔了，想恢复到新版本怎么办？找不到新版本的"),n("code",[s._v("commit id")]),s._v("怎么办？")]),s._v(" "),n("p",[s._v("在Git中，总是有后悔药可以吃的。当你用"),n("code",[s._v("$ git reset --hard HEAD^")]),s._v("回退到上一个版本时，再想恢复到回去，就必须找到被重置了的"),n("code",[s._v("commit id")]),s._v("。Git提供了一个命令"),n("code",[s._v("git reflog")]),s._v("用来记录你的每一次命令：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("λ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reflog\n346c632 HEAD@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": reset: moving to 346c632c95ea\n8c4957c HEAD@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": commit: "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n346c632 HEAD@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": reset: moving to HEAD^\n9176eec HEAD@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": reset: moving to HEAD\n9176eec HEAD@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": commit: "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n346c632 HEAD@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": pull: Fast-forward\n120e54b HEAD@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": checkout: moving from master to develop\n7161f76 HEAD@"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": checkout: moving from develop to master\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("可以看到commit为test的"),n("code",[s._v("commit id")]),s._v(" 我们直接 "),n("code",[s._v("git reset --hard 8c4957c")]),s._v(" 发现回来了，大功告成")]),s._v(" "),n("p",[n("strong",[s._v("总结")])]),s._v(" "),n("ul",[n("li",[s._v("HEAD指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令"),n("code",[s._v("git reset --hard commit_id")]),s._v("。")]),s._v(" "),n("li",[s._v("穿梭前，用"),n("code",[s._v("git log")]),s._v("可以查看提交历史，以便确定要回退到哪个版本。")]),s._v(" "),n("li",[s._v("要重返未来，用"),n("code",[s._v("git reflog")]),s._v("查看命令历史，以便确定要回到未来的哪个版本。")])]),s._v(" "),n("h3",{attrs:{id:"修改对比"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改对比"}},[s._v("#")]),s._v(" 修改对比")]),s._v(" "),n("h4",{attrs:{id:"比较提交-git-diff"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#比较提交-git-diff"}},[s._v("#")]),s._v(" 比较提交 - Git Diff")]),s._v(" "),n("p",[s._v("你可以用 git diff 来比较项目中任意两个版本的差异。")]),s._v(" "),n("p",[n("code",[s._v("$ git diff master..test")]),s._v("\n上面这条命令只显示两个分支间的差异，如果你想找出‘master’,‘test’的共有 父分支和'test'分支之间的差异，你用3个‘.'来取代前面的两个'.' 。")]),s._v(" "),n("p",[n("code",[s._v("$ git diff master...test")]),s._v(" "),n("code",[s._v("git diff")]),s._v(" 是一个难以置信的有用的工具，可以找出你项目上任意两点间 的改动，或是用来查看别人提交进来的新分支。")]),s._v(" "),n("h4",{attrs:{id:"哪些内容会被提交-commit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#哪些内容会被提交-commit"}},[s._v("#")]),s._v(" 哪些内容会被提交(commit)")]),s._v(" "),n("p",[s._v("你通常用git diff来找你当前工作目录和上次提交与本地索引间的差异。")]),s._v(" "),n("p",[n("code",[s._v("$ git diff")]),s._v("\n上面的命令会显示在当前的工作目录里的，没有 staged(添加到索引中)，且在下次提交时 不会被提交的修改。")]),s._v(" "),n("p",[s._v("如果你要看在下次提交时要提交的内容(staged,添加到索引中),你可以运行：")]),s._v(" "),n("p",[n("code",[s._v("$ git diff --cached")]),s._v("\n上面的命令会显示你当前的索引和上次提交间的差异；也就是暂存区与HEAD中比较")]),s._v(" "),n("p",[n("code",[s._v("$ git diff filename")]),s._v("\n上面这条命令会显示你工作目录的filename文件与上次提交时之间的所有差别")]),s._v(" "),n("h4",{attrs:{id:"更多的比较选项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更多的比较选项"}},[s._v("#")]),s._v(" 更多的比较选项")]),s._v(" "),n("p",[s._v("如果你要查看当前的工作目录与另外一个分支的差别，你可以用下面的命令执行:")]),s._v(" "),n("p",[n("code",[s._v("$ git diff test")]),s._v("\n这会显示你当前工作目录与另外一个叫'test'分支的差别。你也以加上路径限定符，来只 比较某一个文件或目录。")]),s._v(" "),n("p",[n("code",[s._v("$ git diff HEAD -- ./lib")]),s._v("\n上面这条命令会显示你当前工作目录下的lib目录与上次提交之间的差别(或者更准确的 说是在当前分支)。")]),s._v(" "),n("p",[s._v("如果不是查看每个文件的详细差别，而是统计一下有哪些文件被改动，有多少行被改 动，就可以使用"),n("code",[s._v("--stat")]),s._v(" 参数")]),s._v(" "),n("p",[n("code",[s._v("$ git diff HEAD")]),s._v("\n显示工作目录(已track但未add文件)和暂存区(已add但未commit文件)与最后一次commit之间的的所有不相同文件的增删改。")]),s._v(" "),n("h3",{attrs:{id:"撤销修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#撤销修改"}},[s._v("#")]),s._v(" 撤销修改")]),s._v(" "),n("p",[s._v("当年修改了一个文件")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch master\nChanges not staged "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" commit:\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add <file>..."')]),s._v(" to update what will be committed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git checkout -- <file>..."')]),s._v(" to discard changes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" working directory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\tmodified:   readme.txt\n\nno changes added to commit "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')]),s._v(" and/or "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git commit -a"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("你可以发现，Git会告诉你，git checkout -- file可以丢弃工作区的修改：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -- readme.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("命令"),n("code",[s._v("git checkout -- readme.txt")]),s._v("意思就是，把readme.txt文件在工作区的修改全部撤销，这里有两种情况：")]),s._v(" "),n("p",[s._v("一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；")]),s._v(" "),n("p",[s._v("一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。")]),s._v(" "),n("p",[s._v("总之，就是让这个文件回到最近一次"),n("code",[s._v("git commit")]),s._v("的状态。")]),s._v(" "),n("p",[n("code",[s._v("git checkout -- file")]),s._v("命令中的--很重要，没有--，就变成了“切换到另一个分支”的命令，我们在后面的分支管理中会再次遇到"),n("code",[s._v("git checkout")]),s._v("命令\n事实上经过实践，如果"),n("code",[s._v("git chekout")]),s._v("后面跟着路径+文件名，会启动同样效果，不会切换分支，因为本地并没有这个分支，而任务你是在做撤销命令")]),s._v(" "),n("h3",{attrs:{id:"删除文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除文件"}},[s._v("#")]),s._v(" 删除文件")]),s._v(" "),n("p",[s._v("一般情况下，你通常直接在文件管理器中把没用的文件删了，或者用rm命令删了：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" test.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("这个时候，Git知道你删除了文件，因此，工作区和版本库就不一致了，"),n("code",[s._v("git status")]),s._v("命令会立刻告诉你哪些文件被删除了：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("λ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\nOn branch develop\nYour branch is up-to-date with "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/develop'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\nChanges not staged "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" commit:\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add/rm <file>..."')]),s._v(" to update what will be committed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git checkout -- <file>..."')]),s._v(" to discard changes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" working directory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        deleted:    a.txt\n\nno changes added to commit "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')]),s._v(" and/or "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git commit -a"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("现在你有两个选择，一是确实要从版本库中删除该文件，那就用命令git rm删掉，并且git commit：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" test.txt\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a.txt'")]),s._v("\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"remove a.txt"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("master d46f35e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" remove a.txt\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" changed, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" deletion"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n delete mode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100644")]),s._v(" a.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("另一种情况是删错了，因为版本库里还有呢，所以可以很轻松地把误删的文件恢复到最新版本：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout a.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("命令git rm用于删除一个文件。如果一个文件已经被提交到版本库，那么你永远不用担心误删，但是要小心，你只能恢复文件到最新版本，你会丢失最近一次提交后你修改的内容。")])])}),[],!1,null,null,null);t.default=e.exports}}]);