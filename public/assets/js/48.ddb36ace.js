(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{567:function(a,s,t){"use strict";t.r(s);var n=t(20),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("webpack优化，"),t("code",[a._v("webpack dll")]),a._v("动态链接库的方案可谓是很多人用的经典方案\n但是睡着webpack的升级，打包性能还是逐步提高了很多，我们也希望减少配置带来的复杂关系，那么最优化最小化配置的，必然是最好的选择，下面介绍一下 hard-source-webpack-plugin以及和dll的对比")]),a._v(" "),t("h2",{attrs:{id:"dll"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dll"}},[a._v("#")]),a._v(" dll")]),a._v(" "),t("p",[a._v("其实是做缓存")]),a._v(" "),t("blockquote",[t("p",[a._v("所谓动态链接，就是把一些经常会共享的代码制作成 DLL 档，当可执行文件调用到 DLL 档内的函数时，Windows 操作系统才会把 DLL 档加载存储器内，DLL 档本身的结构就是可执行档，当程序有需求时函数才进行链接。透过动态链接方式，存储器浪费的情形将可大幅降低。")])]),a._v(" "),t("p",[a._v("将dll和缓存进行对比可以发现：\n"),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200917174951143.png#pic_center",alt:"在这里插入图片描述"}}),a._v("\n个人理解的dll基本过程：")]),a._v(" "),t("p",[a._v("1、第一次npm run的时候，把请求的内容存储起来（存储在映射表中）")]),a._v(" "),t("p",[a._v("2、再次请求时，先从映射表中找，看请求的内容是否有缓存，有则加载缓存（类似浏览器的缓存策略，命中缓存），没有就正常打包。")]),a._v(" "),t("p",[a._v("3、直接从缓存中读取。")]),a._v(" "),t("h2",{attrs:{id:"hard-source-webpack-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hard-source-webpack-plugin"}},[a._v("#")]),a._v(" hard-source-webpack-plugin")]),a._v(" "),t("p",[a._v("在项目实现的过程中，想在代码更改的同时，查看效果的改变，而这个时候长时间的编译等待，造成了额外的时间浪费。")]),a._v(" "),t("p",[a._v("更好的代替者DLL，选择hard-source-webpack-plugin")]),a._v(" "),t("p",[a._v("HardSourceWebpackPlugin是webpack的插件，为模块提供中间缓存步骤。为了查看结果，您需要使用此插件运行webpack两次：第一次构建将花费正常的时间。第二次构建将显着加快（大概提升90%的构建速度）。")]),a._v(" "),t("p",[a._v("1、安装")]),a._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("npm install "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("save"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("dev hard"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("source"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("webpack"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("plugin \n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("2、配置文件")]),a._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" HardSourceWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'hard-source-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ......")]),a._v("\n  plugins"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HardSourceWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// <- 直接加入这行代码就行")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("p",[a._v("更多关于配置hard-source-webpack-plugin可以查看官网"),t("a",{attrs:{href:"https://github.com/mzgoddard/hard-source-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("hard-source-webpack-plugin"),t("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);